<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>画图</title>

    <!-- 1. 引入需要的 js 和 css -->
    <script src='http://cdn.bootcss.com/jquery/3.2.1/jquery.min.js'></script>
    <script src='painter.js'></script>
    <link  href="painter.css" rel="stylesheet">

    <style media="screen">
        body {
            font-family: Arial, Helvetica, sans-serif; /* 字体 */
            font-size: 12px; /* 字体大小12像素 */
        }
    </style>
</head>

<body>
    <!-- 2. 定义画图板的 html -->
    <div id="painter">
        <!-- 绘图的工具栏 -->
        <ul class="toolbar">
            <li data-type="move"><img src="img/move.png"><div>移动|删除</div></li>
            <li data-type="curve"><img src="img/curve.png"><div>曲线</div></li>
            <li data-type="line"><img src="img/line.png"><div>线段</div></li>
            <li data-type="polyline"><img src="img/polyline.png"><div>折线</div></li>
            <li data-type="rect"><img src="img/rect.png"><div>矩形</div></li>
            <li data-type="circle"><img src="img/circle.png"><div>圆</div></li>
            <li data-type="ellipse"><img src="img/ellipse.png"><div>椭圆</div></li>
            <li data-type="eraser"><img src="img/eraser.png"><div>橡皮擦</div></li>
            <li data-type="clear"><img src="img/clear.png"><div>清空画布</div></li>
            <li data-type="undo"><img src="img/undo.png"><div>后退</div></li>
            <li data-type="redo"><img src="img/redo.png"><div>恢复</div></li>
        </ul>

        <!-- 画布 -->
        <canvas class="canvas" width="400" height="400"></canvas>

        <!-- 右键菜单 -->
        <ul class="menu">
            <li class="menu-item remove">删除</li>
            <li class="menu-item back-one">后移一层</li>
            <li class="menu-item front-one">前移一层</li>
            <li class="menu-item back-most">移到最后面</li>
            <li class="menu-item front-most">移到最前面</li>
        </ul>
    </div>

    <button>图片数据</button><br>
    <img id="result">

    <script type="text/javascript">
        // 3. 初始化画图板
        var painter = new Painter($('#painter')); // 创建画图板的对象
        $('#painter .toolbar img:eq(1)').click(); // 默认进行绘制曲线

        // 4. 获取画图板的图片，显示到 img 上
        $('button').click(function(event) {
            $('#result').attr('src', painter.getImageDataUrl());
        });
    </script>
</body>

</html>
