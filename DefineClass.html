<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>

    <script type="text/javascript">
    /**
    * 把字符串路径生成链式对象的命名空间。
    *
    * 使用命名空间，可以减少命名冲突，可以像下面这么做:
    * var ns = ns || {};
    * ns.ModuleClass = {};
    *
    * 但是如果名字太长，如 a.b.c.e.f.g.h，这样的方式定义命名空间需要太多代码，很麻烦。
    **/
    function namespace(qualifiedPath) {
        var arr = qualifiedPath.split('.'), i = 0, name;
        var root = window;

        while (name = arr[i++]) {
            if (!root[name]) {
                root[name] = {};
            }
            root = root[name];
        }
        return root;
    }
    </script>

    <script>
    namespace("com.tur.util"); // 生成命名空间 com.tur.util

    // 定义类 Foo 的构造函数
    com.tur.util.Foo = function() {
        console.log("Constructor: Foo()");
        this.x = 10; // 定义成员变量
        this.y = 20; // 定义成员变量
    }

    // 给类 Foo 定义函数 bar()
    com.tur.util.Foo.prototype.bar = function() {
        console.log("bar(): " + this.x + ", " + this.y);
        this.sayHello();
    }

    var Test = com.tur.util.Foo;
    Test.prototype.sayHello = function() {
        console.log("sayHello(): " + (this.x + this.y));
    };

    // 创建对象，调用对象的函数
    var x = new com.tur.util.Foo(); // OK
    x.bar();      // OK
    x.sayHello(); // OK

    // com.tur.util.Foo(); // OK
    // new com.tur.util.Foo.bar(); // Error
    </script>
</body>
</html>
